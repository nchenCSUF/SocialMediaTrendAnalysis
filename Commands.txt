bin/spark-submit — packages org.apache.spark:spark-streaming-kafka-0–8_2.11:2.0.0 KafkaSparkStreaming.py 192.168.36.130:6667 test1


PYSPARK_PYTHON=python3.6 spark-submit --master yarn --deploy-mode client --conf "spark.dynamicAllocation.enabled=false"  --jars spark-streaming-kafka-0-8-assembly_2.11-2.3.1.jar GeoBasedProcessor.py sandbox-hdp.hortonworks.com:2181 GeoBasedTweets

192.168.36.130
sandbox-hdp.hortonworks.com



bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test --from-beginning

Exact location JSON 
In the case of Twitter’s enriched native format, the root level “geo” and “coordinates” attributes provide the decimal degree coordinates for the exact location. Tweets containing this metadata can also include “Twitter Place” data described above, although the presence of both is not guaranteed.

Note that the “coordinates” attributes is formatted as [LONGITUDE, latitude], while the “geo” attribute is formatted as [latitude, LONGITUDE].

{
    "geo": {
        "type": "Point",
        "coordinates": [40.0160921, -105.2812196]
    },
    "coordinates": {
        "type": "Point",
        "coordinates": [-105.2812196, 40.0160921]
    }
}


kafka/bin/kafka-topics.sh --create
  --zookeeper localhost:2181
  --replication-factor 1 --partitions 2
  --topic my-topic

kafka/bin/kafka-topics.sh --list
    --zookeeper localhost:2181

kafka/bin/kafka-console-producer.sh --broker-list sandbox-hdp.hortonworks.com:6667 --topic tarun

bin/kafka-console-consumer.sh --bootstrap-server sandbox-hdp.hortonworks.com:2181  --topic tarun --from-beginning



spark dm, em set to 256m
try 2 spark applications at same time

